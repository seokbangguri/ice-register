<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap 및 jQuery 스크립트 -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="/styles/style.css">
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <title>My Website</title>
    <!-- 여기에 필요한 CSS 파일들을 링크하세요 -->
</head>

<body>
    <nav class="navbar">
        <div class="navbar-left" style="display: flex; color: black;">
            <a><img src="https://www.ice.go.kr/images/template/00005/common/logo.png" alt="로고"></a>
            <h3>학교로 찾아가는 노동인권교육 추가모집</h3>
        </div>
        <div class="navbar-right">
                <span style="color: black; margin-right: 20px;">로그인 : <%= school %>   | </span>
                    <a href="/apply">교육신청</a>
                    <a href="/mypage">마이페이지</a>
                    <a href="/?message=로그아웃 되었습니다.">로그아웃</a>
        </div>
    </nav>
    <hr>

    <!-- 여기에 본문 내용을 작성하세요 -->
    <div class="container mt-4">
            <h1>교육 신청 페이지</h1>
            <form action="/api/tandpApp" method="POST">
                    <label for="date">날짜 선택:</label>
                    <input type="date" id="date" name="date" required><br><br>

                    <label for="role">신청 구분</label>
                    <select id="role" name="role" required>
                            <option value="교원">교원</option>
                            <option value="학부모">학부모</option>
                    </select><br><br>

                    <label for="startTime">시작 시간 선택:</label>
                    <select id="startTime" name="startTime" required>
                    </select><br><br>

                    <label for="eneTime">시작 시간 선택:</label>
                    <select id="endTime" name="endTime" required>
                    </select><br><br>

                    <label for="classCount">학급 수 선택:</label>
                    <select id="classCount" name="classCount" required>
			    <option value="1" selected>1</option>
                    </select><br><br>

                    <button type="submit">신청하기</button>
            </form>
    </div>

    <!-- 여기에 필요한 JavaScript 파일들을 링크하세요 -->
    <script>
        const school = '<%= school %>';
if (school == '') {
        window.location.href = '/?message=세션이 만료되었습니다. 재로그인 해주세요.';
} else {
            $(document).ready(function() {
                    const startTimeSelect = $('#startTime');
                    const endTimeSelect = $('#endTime');

                    // 시작 시간 옵션 생성
                    for (let hour = 8; hour <= 14; hour++) {
                            for (let minute = 0; minute < 60; minute += 5) {
                                    const time = `${hour < 10 ? '0' : ''}${hour}:${minute < 10 ? '0' : ''}${minute}`;
                                    startTimeSelect.append(`<option value="${time}">${time}</option>`);
                                    endTimeSelect.append(`<option value="${time}">${time}</option>`);
                            }
                    }
            });
}
    </script>
</body>

</html>

