<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Bootstrap 및 jQuery 스크립트 -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="/styles/style.css">
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
  <title>회원 가입</title>
</head>
<body>
    <nav class="navbar">
        <div class="navbar-left" style="display: flex; color: black;">
            <a href="/"><img src="https://www.ice.go.kr/images/template/00005/common/logo.png" alt="로고"></a>
            <h3>학교로 찾아가는 노동인권교육 추가모집</h3>
        </div>
        <div class="navbar-right">
                    <a href="/">로그인</a>
        </div>
    </nav>
    <hr>
    <div class="container mt-4">
  <h1>회원 가입</h1>
  <h5 id="message"></h5>
  <form action="/api/signup" method="POST" class="signup"> <!-- 수정된 부분 -->
    <label for="school">학교 선택:</label>
    <select id="school" class="mySelect"name="school" required>
      <option value="" disabled selected>학교를 선택하세요</option>
      <% schools.forEach(school => { %>
        <option value="<%- school %>"><%- school %></option>
      <% }); %>
    </select>

    <label for="schoolType">학교 타입:</label>
    <select id="schoolType" class="mySelect" name="schoolType" required>
      <option value="" disabled selected>학교 타입</option>
      <option value="초등학교">초등학교</option>
      <option value="중학교">중학교</option>
      <option value="고등학교">고등학교</option>
      <option value="특목-고등학교">특목-고등학교</option>
      <option value="특성화-고등학교">특성화-고등학교</option>
      <option value="특수학교">특수학교</option>
      <option value="각종학교-각종">각종학교-각종</option>
      <option value="각종학교-대안">각종학교-대안</option> 
    </select>

    <label for="name">담당자 성함:</label>
    <input type="text" id="name" name="name" required>

    <label for="phone">담당자 직통 전화번호:</label>
    <div>
      <input type="text" id="phoneAreaCode" name="phoneAreaCode" value="032" readonly>
      <input type="text" id="phone" name="phone" required>
    </div>

    <label for="password">비밀번호:</label>
    <input type="password" id="password" name="password" required>

    <button type="submit">가입하기</button>
  </form>
    </div>
	<script>
		// index.ejs (또는 다른 페이지에서 사용하는 스크립트 부분)

		// URL에서 query string을 추출하는 함수
		function getQueryStringValue(key) {
			const urlParams = new URLSearchParams(window.location.search);
			return urlParams.get(key);
		}

// 페이지가 로드될 때 실행되는 함수
function onLoad() {
	const message = getQueryStringValue('message');
	if (message) {
		// 메시지가 존재하면 화면에 표시
		const messageDiv = document.getElementById('message');
		messageDiv.innerText = message;
	} else {
		$('#message').hide();
	}
}

// 페이지 로드 시 onLoad 함수 실행
window.onload = onLoad;

$(document).ready(function() {
  $('.mySelect').select2();
});
	</script>
</body>
</html>

